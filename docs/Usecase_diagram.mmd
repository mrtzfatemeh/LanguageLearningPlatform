---
config:
  theme: neo
---
flowchart LR

    %% =======================
    %% Actors
    %% =======================
    subgraph Users["کاربران"]
        U["User (زبان‌آموز)"]
        T["Teacher (مربی)"]
        A["Admin (مدیر سیستم)"]
    end

    %% =======================
    %% System
    %% =======================
    subgraph System["پلتفرم آموزش زبان"]
        
        %% *** Authentication ***
        UC1["ثبت‌نام / ورود کاربران<br>• ایجاد حساب کاربری<br>• احراز هویت دو مرحله‌ای"]

        %% *** Learning Content ***
        UC2["مشاهده فهرست درس‌ها<br>• سطوح B1-A2-A1<br>• فیلتر و جستجو"]
        UC10["مشاهده محتوای درس<br>• ویدئو<br>• متن<br>• مثال‌ها"]

        %% *** Exercises ***
        UC3["انجام تمرین‌ تعاملی<br>• Drag & Drop<br>• Fill-in-the-blank<br>• Listening Quiz"]
        UC11["تصحیح خودکار پاسخ‌ها<br>• NLP Scoring<br>• غلط‌یابی دستوری"]

        %% *** Adaptive Learning Engine ***
        UC4["ارزیابی و تعیین سطح<br>(Adaptive Learning)<br>• تحلیل عملکرد<br>• مسیر یادگیری شخصی‌سازی‌شده"]

        %% *** Feedback / Score ***
        UC5["دریافت نمره و بازخورد<br>• تحلیل نقاط ضعف<br>• پیشنهاد مسیر مطالعه"]

        %% *** Interaction with Teacher ***
        UC6["چت متنی با مربی<br>• ارسال فایل صوتی<br>• بررسی تکالیف"]
        UC7["تماس صوتی / جلسه آنلاین<br>• زمان‌بندی جلسه<br>• اتاق گفت‌وگوی صوتی"]

        %% *** Admin Tools ***
        UC8["مدیریت درس‌ها و تمرین‌ها<br>• CRUD درس‌ها<br>• بارگذاری محتوا"]
        UC9["مشاهده عملکرد کاربران<br>• گزارش‌گیری<br>• وضعیت پیشرفت"]

        %% *** Additional System-Level Use Cases ***
        UC12["سیستم پیشنهاد هوشمند<br>• پیشنهاد درس بعدی<br>• پیشنهاد تمرین"]
        UC13["مدیریت اعلان‌ها<br>• یادآوری انجام تمرین<br>• اطلاع‌رسانی پیام مربی"]
    end

    %% =======================
    %% Relationships
    %% =======================
    U --> UC1
    U --> UC2 --> UC10
    U --> UC3 --> UC11
    U --> UC4 --> UC12
    U --> UC5
    U --> UC6
    U --> UC7

    T --> UC6
    T --> UC7
    T --> UC5

    A --> UC8
    A --> UC9
    A --> UC13

    %% Icons
    U@{ icon: "mdi:account" }
    T@{ icon: "mdi:account-tie" }
    A@{ icon: "mdi:shield-account" }
    System@{ icon: "mdi:school-outline" }
